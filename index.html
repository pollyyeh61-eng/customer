<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¾æ¥­å®¢æˆ¶ç®¡ç†</title>
    <style>
        body { background-color: #000; color: #D4AF37; font-family: sans-serif; margin: 0; padding: 10px 15px 70px 15px; overflow-x: hidden; }
        .page { display: none; }
        .active { display: block; }
        h1 { color: #D4AF37; text-align: center; font-size: 22px; margin: 10px 0; letter-spacing: 2px; }

        /* è¡¨å–®æ¨£å¼ */
        .form-group { margin-bottom: 12px; }
        label { display: block; color: #D4AF37; font-size: 16px; font-weight: bold; margin-bottom: 4px; }
        input, select, textarea {
            width: 100%; padding: 10px 12px; background-color: #0a0a0a;
            border: 1.5px solid #D4AF37; border-radius: 10px; color: #D4AF37; 
            font-size: 17px; box-sizing: border-box; animation: breathe 3s infinite ease-in-out;
        }
        @keyframes breathe {
            0% { border-color: #8A6D3B; box-shadow: 0 0 3px rgba(212, 175, 55, 0.2); }
            50% { border-color: #FFD700; box-shadow: 0 0 10px rgba(212, 175, 55, 0.4); }
            100% { border-color: #8A6D3B; box-shadow: 0 0 3px rgba(212, 175, 55, 0.2); }
        }
        .row { display: flex; gap: 8px; }
        .btn-save {
            width: 100%; padding: 12px; background: linear-gradient(145deg, #D4AF37, #8A6D3B);
            color: #000; border: none; border-radius: 25px; font-size: 18px; font-weight: bold; margin-top: 8px;
        }

        /* æŠ½å±œå¼å¡ç‰‡æ¨£å¼ */
        .drawer {
            background: #111;
            border: 1px solid #D4AF37;
            margin-bottom: 8px;
            border-radius: 10px;
            overflow: hidden;
        }
        /* æŠ½å±œæ¨™é¡Œ (å¤–æ®¼) */
        .drawer-header {
            padding: 12px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            background: #1a1a1a;
        }
        .drawer-header h3 { margin: 0; font-size: 18px; color: #FFD700; }
        .drawer-header span { font-size: 14px; color: #D4AF37; }

        /* æŠ½å±œå…§å®¹ (å…§éƒ¨è³‡æ–™) */
        .drawer-content {
            display: none; /* é è¨­éš±è— */
            padding: 12px;
            border-top: 1px solid #333;
            background: #0a0a0a;
        }
        .drawer-content p { margin: 8px 0; font-size: 15px; border-bottom: 1px solid #222; padding-bottom: 4px; }
        .drawer.open .drawer-content { display: block; } /* æ‰“é–‹ç‹€æ…‹ */
        .drawer.open .drawer-header { background: #222; }

        /* åº•éƒ¨é¸å–® */
        .nav { position: fixed; bottom: 0; left: 0; width: 100%; background: #000; display: flex; height: 60px; border-top: 1px solid #D4AF37; }
        .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #8A6D3B; font-size: 12px; }
        .nav-item.active-nav { color: #FFD700; }
        .nav-icon { font-size: 22px; }
    </style>
</head>
<body>

    <div id="page1" class="page active">
        <h1>ç¾æ¥­å®¢æˆ¶ç®¡ç†</h1>
        <div class="row">
            <div class="form-group" style="flex:1;"><label>è²´è³“å§“å</label><input type="text" id="name"></div>
            <div class="form-group" style="flex:1.5;"><label>è¯ç¹«é›»è©±</label><input type="tel" id="phone"></div>
        </div>
        <div class="row">
            <div class="form-group" style="flex:1;"><label>è¡€å‹</label><select id="blood"><option>Aå‹</option><option>Bå‹</option><option>Oå‹</option><option>ABå‹</option></select></div>
            <div class="form-group" style="flex:1;"><label>æ˜Ÿåº§</label><select id="constellation"><option>ç‰¡ç¾Šåº§</option><option>é‡‘ç‰›åº§</option><option>é›™å­åº§</option><option>å·¨èŸ¹åº§</option><option>ç…å­åº§</option><option>è™•å¥³åº§</option><option>å¤©ç§¤åº§</option><option>å¤©è åº§</option><option>å°„æ‰‹åº§</option><option>æ‘©ç¾¯åº§</option><option>æ°´ç“¶åº§</option><option>é›™é­šåº§</option></select></div>
        </div>
        <div class="form-group"><label>æé†’ä¸‹æ¬¡é ç´„é …ç›®</label><input type="text" id="bookItem"></div>
        <div class="form-group"><label>æé†’ä¸‹æ¬¡é ç´„æ™‚é–“</label><input type="datetime-local" id="bookTime"></div>
        <div class="form-group"><label>å¿ƒå¾—å‚™è¨»</label><textarea id="note" rows="2"></textarea></div>
        <button class="btn-save" onclick="handleSave()">ç¢ºèªå„²å­˜ä¸¦è·³è½‰</button>
    </div>

    <div id="page2" class="page">
        <h1>åå–®ç¸½è¦½</h1>
        <div id="list-container"></div>
    </div>

    <div class="nav">
        <div class="nav-item active-nav" id="nav1" onclick="showPage(1)"><span class="nav-icon">ğŸ’</span><span>è³‡æ–™ç™»è¨˜</span></div>
        <div class="nav-item" id="nav2" onclick="showPage(2)"><span class="nav-icon">ğŸ“œ</span><span>åå–®ç¸½è¦½</span></div>
    </div>

    <script>
        function handleSave() {
            const name = document.getElementById('name').value;
            if(!name) { alert('è«‹è¼¸å…¥å§“å'); return; }

            const newCustomer = {
                name: name,
                phone: document.getElementById('phone').value,
                blood: document.getElementById('blood').value,
                constellation: document.getElementById('constellation').value,
                bookItem: document.getElementById('bookItem').value,
                bookTime: document.getElementById('bookTime').value,
                note: document.getElementById('note').value,
                date: new Date().toLocaleDateString()
            };

            let list = JSON.parse(localStorage.getItem('holyData') || '[]');
            list.push(newCustomer);
            localStorage.setItem('holyData', JSON.stringify(list));
            
            showPage(2);
            document.querySelectorAll('#page1 input, #page1 textarea').forEach(i => i.value = '');
        }

        function showPage(num) {
            document.getElementById('page1').style.display = (num === 1) ? 'block' : 'none';
            document.getElementById('page2').style.display = (num === 2) ? 'block' : 'none';
            document.getElementById('nav1').classList.toggle('active-nav', num === 1);
            document.getElementById('nav2').classList.toggle('active-nav', num === 2);
            if(num === 2) renderList();
        }

        // æ ¸å¿ƒåŠŸèƒ½ï¼šåˆ‡æ›æŠ½å±œé–‹é—œ
        function toggleDrawer(element) {
            element.parentElement.classList.toggle('open');
        }

        function renderList() {
            const container = document.getElementById('list-container');
            const list = JSON.parse(localStorage.getItem('holyData') || '[]');
            if(list.length === 0) {
                container.innerHTML = '<p style="text-align:center; color:#D4AF37; font-size:16px;">å°šç„¡è¨˜éŒ„</p>';
                return;
            }
            
            // æ¸²æŸ“ç‚ºæŠ½å±œçµæ§‹
            container.innerHTML = list.reverse().map(c => `
                <div class="drawer">
                    <div class="drawer-header" onclick="toggleDrawer(this)">
                        <h3>ğŸ‘¤ ${c.name}</h3>
                        <span>â–¼</span>
                    </div>
                    <div class="drawer-content">
                        <p>ğŸ“ é›»è©±ï¼š${c.phone}</p>
                        <p>âœ¨ ç‰¹å¾µï¼š${c.blood} / ${c.constellation}</p>
                        <p>ğŸ”” æé†’é …ç›®ï¼š${c.bookItem}</p>
                        <p>â° æé†’æ™‚é–“ï¼š${c.bookTime.replace('T', ' ')}</p>
                        <p>ğŸ“ å¿ƒå¾—å‚™è¨»ï¼š${c.note}</p>
                        <p style="border:none; font-size:12px; color:#888;">ç™»è¨˜æ—¥æœŸï¼š${c.date}</p>
                    </div>
                </div>
            `).join('');
        }
    </script>
</body>
</html>
